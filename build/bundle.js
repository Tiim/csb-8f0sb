var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(t,e,n){t.$$.on_destroy.push(c(e,n))}function i(t,e,n){return t.set(n),e}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function m(){return d(" ")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}function b(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function _(t,e,n){t.classList[n?"add":"remove"](e)}let w;function y(t){w=t}const x=[],E=[],L=[],k=[],O=Promise.resolve();let S=!1;function C(t){L.push(t)}let T=!1;const N=new Set;function I(){if(!T){T=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];y(e),j(e.$$)}for(y(null),x.length=0;E.length;)E.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];N.has(e)||(N.add(e),e())}L.length=0}while(x.length);for(;k.length;)k.pop()();S=!1,T=!1,N.clear()}}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const D=new Set;let A;function M(t,e){t&&t.i&&(D.delete(t),t.i(e))}function P(t,e,n,o){if(t&&t.o){if(D.has(t))return;D.add(t),A.c.push((()=>{D.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function R(t){t&&t.c()}function F(t,n,r,c){const{fragment:u,on_mount:i,on_destroy:l,after_update:a}=t.$$;u&&u.m(n,r),c||C((()=>{const n=i.map(e).filter(s);l?l.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(C)}function J(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(x.push(t),S||(S=!0,O.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,s,r,c,u,i,l,a=[-1]){const f=w;y(e);const d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:s.target||f.$$.root};l&&l(d.root);let m=!1;if(d.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&u(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),m&&U(e,t)),n})):[],d.update(),m=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();s.intro&&M(e.$$.fragment),F(e,s.target,s.anchor,s.customElement),I()}y(f)}class z{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const B=[];function G(t,e){return{subscribe:H(t,e).subscribe}}function H(e,n=t){let o;const s=new Set;function c(t){if(r(e,t)&&(e=t,o)){const t=!B.length;for(const t of s)t[1](),B.push(t,e);if(t){for(let t=0;t<B.length;t+=2)B[t][0](B[t+1]);B.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,u=t){const i=[r,u];return s.add(i),1===s.size&&(o=n(c)||t),r(e),()=>{s.delete(i),0===s.size&&(o(),o=null)}}}}function K(t,e){t="lapcnt-"+t;const n=H(e);if(!window)return n;const o=localStorage.getItem(t);null!=o&&n.set(JSON.parse(o)),n.subscribe((e=>{[null,void 0].includes(e)?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(e))}));return window.addEventListener("storage",(()=>{const e=localStorage.getItem(t);if(null==e)return;const o=JSON.parse(e);n.set(o)})),n}const Q=K("entities",[]),V=K("entity-data",{}),W=K("meta",{inputOpen:!0}),X=function(e,n,r){const u=!Array.isArray(e),i=u?[e]:e,l=n.length<2;return G(r,(e=>{let r=!1;const a=[];let p=0,f=t;const d=()=>{if(p)return;f();const o=n(u?a[0]:a,e);l?e(o):f=s(o)?o:t},m=i.map(((t,e)=>c(t,(t=>{a[e]=t,p&=~(1<<e),r&&d()}),(()=>{p|=1<<e}))));return r=!0,d(),function(){o(m),f()}}))}([G(new Date,(function(t){const e=setInterval((()=>{t((new Date).getTime())}),1e3);return function(){clearInterval(e)}})),W],(([t,{stopwatch:e}])=>{let n;return e?n="RUN"===e.state?t-e.start:e.end-e.start:t=0,n??0}));function Y(t){let e,n,o,s,r;return{c(){e=f("p"),e.textContent="Enter names separated by comma and/or newlines.",n=m(),o=f("textarea"),h(o,"class","svelte-4lfknv")},m(c,u){a(c,e,u),a(c,n,u),a(c,o,u),g(o,t[1]),s||(r=v(o,"input",t[7]),s=!0)},p(t,e){2&e&&g(o,t[1])},d(t){t&&p(e),t&&p(n),t&&p(o),s=!1,r()}}}function Z(t){let e,n,s,r,c,u,i,d,$,g,_;return{c(){e=f("select"),n=f("option"),n.textContent="Lap Length: 16m",s=f("option"),s.textContent="Lap Length: 25m",r=f("option"),r.textContent="Lap Length: 33m",c=f("option"),c.textContent="Lap Length: 50m",u=f("option"),u.textContent="Lap Length: 100m",i=f("option"),i.textContent="Lap Length: 200m",d=m(),$=f("button"),$.textContent="Reset",n.__value="16",n.value=n.__value,s.__value="25",s.value=s.__value,r.__value="33",r.value=r.__value,c.__value="50",c.value=c.__value,u.__value="100",u.value=u.__value,i.__value="200",i.value=i.__value,h(e,"class","svelte-4lfknv"),void 0===t[0]&&C((()=>t[8].call(e))),h($,"class","svelte-4lfknv")},m(o,p){a(o,e,p),l(e,n),l(e,s),l(e,r),l(e,c),l(e,u),l(e,i),b(e,t[0]),a(o,d,p),a(o,$,p),g||(_=[v(e,"change",t[8]),v($,"click",t[4])],g=!0)},p(t,n){1&n&&b(e,t[0])},d(t){t&&p(e),t&&p(d),t&&p($),g=!1,o(_)}}}function tt(t){let e;return{c(){e=d("Edit")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function et(t){let e;return{c(){e=d("Done")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function nt(t){let e,n,o;function s(t,e){return t[2].stopwatch?"STOP"===t[2].stopwatch.state?st:ot:rt}let r=s(t),c=r(t);return{c(){e=f("button"),c.c(),h(e,"class","svelte-4lfknv")},m(s,r){a(s,e,r),c.m(e,null),n||(o=v(e,"click",t[5]),n=!0)},p(t,n){r!==(r=s(t))&&(c.d(1),c=r(t),c&&(c.c(),c.m(e,null)))},d(t){t&&p(e),c.d(),n=!1,o()}}}function ot(t){let e;return{c(){e=d("Stop")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function st(t){let e;return{c(){e=d("Continue")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function rt(t){let e;return{c(){e=d("Start")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function ct(e){let n,o,s,r,c,u,i,d,$=e[2].inputOpen&&Y(e),g=e[2].inputOpen&&Z(e);function b(t,e){return t[2].inputOpen?et:tt}let _=b(e),w=_(e),y=!e[2].inputOpen&&nt(e);return{c(){n=f("div"),$&&$.c(),o=m(),s=f("div"),g&&g.c(),r=m(),c=f("button"),w.c(),u=m(),y&&y.c(),h(c,"class","svelte-4lfknv"),h(s,"class","side-ctl svelte-4lfknv"),h(n,"class","wrap svelte-4lfknv")},m(t,p){a(t,n,p),$&&$.m(n,null),l(n,o),l(n,s),g&&g.m(s,null),l(s,r),l(s,c),w.m(c,null),l(s,u),y&&y.m(s,null),i||(d=v(c,"click",e[9]),i=!0)},p(t,[e]){t[2].inputOpen?$?$.p(t,e):($=Y(t),$.c(),$.m(n,o)):$&&($.d(1),$=null),t[2].inputOpen?g?g.p(t,e):(g=Z(t),g.c(),g.m(s,r)):g&&(g.d(1),g=null),_!==(_=b(t))&&(w.d(1),w=_(t),w&&(w.c(),w.m(c,null))),t[2].inputOpen?y&&(y.d(1),y=null):y?y.p(t,e):(y=nt(t),y.c(),y.m(s,null))},i:t,o:t,d(t){t&&p(n),$&&$.d(),g&&g.d(),w.d(),y&&y.d(),i=!1,d()}}}function ut(t,e,n){let o,s;u(t,W,(t=>n(2,o=t))),u(t,V,(t=>n(10,s=t)));let{entities:r}=e,c=r.join("\n");function l(){o.inputOpen&&(n(6,r=c.split(/,|\n/).map((t=>t.trim())).filter((t=>t)).sort()),n(1,c=r.join("\n"))),i(W,o.inputOpen=!o.inputOpen,o)}let a="50";return t.$$set=t=>{"entities"in t&&n(6,r=t.entities)},t.$$.update=()=>{1&t.$$.dirty&&i(W,o.laps=parseInt(a),o)},[a,c,o,l,function(){i(V,s={},s),i(W,o={inputOpen:!0,laps:50},o),n(1,c=""),n(6,r=[])},function(){o.stopwatch?"STOP"===o.stopwatch.state?i(W,o.stopwatch={...o.stopwatch,state:"RUN"},o):i(W,o.stopwatch={...o.stopwatch,end:(new Date).getTime(),state:"STOP"},o):i(W,o.stopwatch={start:(new Date).getTime(),state:"RUN"},o)},r,function(){c=this.value,n(1,c)},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,a)},()=>l()]}class it extends z{constructor(t){super(),q(this,t,ut,ct,r,{entities:6})}}function lt(t,e=500){const n=(n=!1)=>{const o=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress")),t.removeEventListener("mouseup",r),t.removeEventListener("touchend",r),t.removeEventListener("mousemove",c),t.removeEventListener("touchcancel",c)}),e),r=e=>{clearTimeout(o),t.dispatchEvent(new CustomEvent("shortpress")),t.removeEventListener("mouseup",r),t.removeEventListener("touchend",r),t.removeEventListener("mousemove",c),t.removeEventListener("touchcancel",c)},c=e=>{clearTimeout(o),t.removeEventListener("mouseup",r),t.removeEventListener("touchend",r),t.removeEventListener("mousemove",c),t.removeEventListener("touchcancel",c)};n?(t.removeEventListener("mousedown",s),t.addEventListener("touchcancel",c),t.addEventListener("touchend",r)):(t.addEventListener("mousemove",c),t.addEventListener("mouseup",r))},o=()=>n(!0),s=()=>n(!1);return t.addEventListener("mousedown",s),t.addEventListener("touchstart",o),{destroy(){t.removeEventListener("mousedown",s),t.removeEventListener("touchstart",o)}}}function at(e){let n,r,c,u,i,g,b,w,y,x,E,L,k,O,S,C,T,N,I,j,D=(e[2][e[0]]&&e[2][e[0]].count||0)+"",A=e[5][0]+"",M=e[5][1]+"";return{c(){n=f("button"),r=f("h2"),c=d(e[0]),u=m(),i=f("p"),g=d(D),b=m(),w=f("p"),y=d(e[1]),x=d("m"),E=m(),L=f("p"),k=d(A),O=d("'"),S=d(M),C=d("''"),T=f("span"),T.textContent="/100m",h(r,"class","title svelte-7vomsa"),h(i,"class","count svelte-7vomsa"),h(w,"class","detail svelte-7vomsa"),h(T,"class","sub svelte-7vomsa"),h(L,"class","detail svelte-7vomsa"),h(n,"style",N=`background-color:${e[4]};`),h(n,"class","svelte-7vomsa"),_(n,"click",e[3])},m(o,p){var f;a(o,n,p),l(n,r),l(r,c),l(n,u),l(n,i),l(i,g),l(n,b),l(n,w),l(w,y),l(w,x),l(n,E),l(n,L),l(L,k),l(L,O),l(L,S),l(L,C),l(L,T),I||(j=[(f=lt.call(null,n),f&&s(f.destroy)?f.destroy:t),v(n,"longpress",e[7]),v(n,"shortpress",e[6])],I=!0)},p(t,[e]){1&e&&$(c,t[0]),5&e&&D!==(D=(t[2][t[0]]&&t[2][t[0]].count||0)+"")&&$(g,D),2&e&&$(y,t[1]),32&e&&A!==(A=t[5][0]+"")&&$(k,A),32&e&&M!==(M=t[5][1]+"")&&$(S,M),16&e&&N!==(N=`background-color:${t[4]};`)&&h(n,"style",N),8&e&&_(n,"click",t[3])},i:t,o:t,d(t){t&&p(n),I=!1,o(j)}}}function pt(t,e,n){let o,s,r,c,i;u(t,V,(t=>n(2,r=t))),u(t,X,(t=>n(9,c=t))),u(t,W,(t=>n(10,i=t)));let{entity:l=null}=e;function a(){n(3,d=!0),setTimeout((()=>{n(3,d=!1)}),300)}let p,f,d=!1;return t.$$set=t=>{"entity"in t&&n(0,l=t.entity)},t.$$.update=()=>{1029&t.$$.dirty&&n(1,p=(r[l]&&r[l].count||0)*i.laps),514&t.$$.dirty&&n(8,f=Math.floor(c/10/p)),256&t.$$.dirty&&n(5,o=[Number.isFinite(f)?Math.floor(f/60):" ",Number.isFinite(f)?f%60:" "]),773&t.$$.dirty&&n(4,s=r[l]&&`hsl(${0|120+-120*function(t,e,n,o,s){const r=(t-e)*(s-o)/(n-e)+o;return Math.max(Math.min(r,s),o)}((c-r[l].update)/1e3,0,f,0,1)}, 40%, 80%)`)},[l,p,r,d,s,o,function(){a(),V.update((t=>({...t,[l]:{...t[l],count:(t[l]&&t[l].count||0)+1,update:c}})))},function(){a(),V.update((t=>({...t,[l]:{...t[l],count:(t[l]&&t[l].count||0)-1,update:c}})))},f,c,i]}class ft extends z{constructor(t){super(),q(this,t,pt,at,r,{entity:0})}}function dt(t,e,n){const o=t.slice();return o[1]=e[n],o}function mt(t){let e,n;return e=new ft({props:{entity:t[1]}}),{c(){R(e.$$.fragment)},m(t,o){F(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.entity=t[1]),e.$set(o)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function vt(t){let e,n,s=t[0],r=[];for(let e=0;e<s.length;e+=1)r[e]=mt(dt(t,s,e));const c=t=>P(r[t],1,1,(()=>{r[t]=null}));return{c(){e=f("div");for(let t=0;t<r.length;t+=1)r[t].c();h(e,"class","list-wrap svelte-e2e5wm")},m(t,o){a(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(1&n){let u;for(s=t[0],u=0;u<s.length;u+=1){const o=dt(t,s,u);r[u]?(r[u].p(o,n),M(r[u],1)):(r[u]=mt(o),r[u].c(),M(r[u],1),r[u].m(e,null))}for(A={r:0,c:[],p:A},u=s.length;u<r.length;u+=1)c(u);A.r||o(A.c),A=A.p}},i(t){if(!n){for(let t=0;t<s.length;t+=1)M(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)P(r[t]);n=!1},d(t){t&&p(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t)}}}function ht(t,e,n){let{entities:o=[]}=e;return t.$$set=t=>{"entities"in t&&n(0,o=t.entities)},[o]}class $t extends z{constructor(t){super(),q(this,t,ht,vt,r,{entities:0})}}function gt(e){let n,o;return{c(){n=f("div"),o=d(e[0]),h(n,"class","clock svelte-1jm387x")},m(t,e){a(t,n,e),l(n,o)},p(t,[e]){1&e&&$(o,t[0])},i:t,o:t,d(t){t&&p(n)}}}function bt(t,e,n){let o,s;return u(t,X,(t=>n(1,o=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,s=function(t){if(!Number.isFinite(t)||t<0)return console.log(t),"";const e=new Date(0);return e.setMilliseconds(t),e.toISOString().substr(11,8)}(o))},[s,o]}class _t extends z{constructor(t){super(),q(this,t,bt,gt,r,{})}}function wt(t){let e,n;return{c(){e=f("p"),n=d(t[1])},m(t,o){a(t,e,o),l(e,n)},p(t,e){2&e&&$(n,t[1])},d(t){t&&p(e)}}}function yt(t){let e,n;return{c(){e=f("pre"),n=d(t[0])},m(t,o){a(t,e,o),l(e,n)},p(t,e){1&e&&$(n,t[0])},d(t){t&&p(e)}}}function xt(e){let n,o,s,r,c,u,i=e[1]&&wt(e),l=e[0]&&yt(e);return{c(){n=f("button"),n.textContent="Export",o=m(),i&&i.c(),s=m(),l&&l.c(),r=d(""),h(n,"class","svelte-12hepl")},m(t,p){a(t,n,p),a(t,o,p),i&&i.m(t,p),a(t,s,p),l&&l.m(t,p),a(t,r,p),c||(u=v(n,"click",e[2]),c=!0)},p(t,[e]){t[1]?i?i.p(t,e):(i=wt(t),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),t[0]?l?l.p(t,e):(l=yt(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&p(n),t&&p(o),i&&i.d(t),t&&p(s),l&&l.d(t),t&&p(r),c=!1,u()}}}function Et(t,e,n){let o,s,r;u(t,W,(t=>n(3,o=t))),u(t,V,(t=>n(4,s=t))),u(t,Q,(t=>n(5,r=t)));let c=null,i=null;function l(t){n(1,i=t),setTimeout((()=>{n(1,i=null)}),3e3)}return[c,i,function(){const t=o.stopwatch?("STOP"===o.stopwatch.state?o.stopwatch.end:(new Date).getTime())-o.stopwatch.start:0;n(0,c=[["name","laps","time (sec)","distance (m)","split (sec/100m)"],...r.map((e=>{const n=s[e]&&s[e].count||0,r=t/1e3,c=n*o.laps;return[e,n,r,c,t/10/c]}))].map((t=>t.join(", "))).join("\n")),navigator.clipboard.writeText(c).then((()=>l("copied!"))).catch((()=>l("failed to copy!")))}]}class Lt extends z{constructor(t){super(),q(this,t,Et,xt,r,{})}}function kt(t){let e,n,o,s,r,c,u,i,d,v,$,g;function b(e){t[1](e)}let _={};return void 0!==t[0]&&(_.entities=t[0]),n=new it({props:_}),E.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(n,"entities",b))),r=new _t({}),u=new $t({props:{entities:t[0]}}),$=new Lt({}),{c(){e=f("main"),R(n.$$.fragment),s=m(),R(r.$$.fragment),c=m(),R(u.$$.fragment),i=m(),d=f("p"),d.textContent="Short press to increment lap, long press to decrement lap.",v=m(),R($.$$.fragment),h(e,"class","svelte-10l09ya")},m(t,o){a(t,e,o),F(n,e,null),l(e,s),F(r,e,null),l(e,c),F(u,e,null),l(e,i),l(e,d),l(e,v),F($,e,null),g=!0},p(t,[e]){const s={};var r;!o&&1&e&&(o=!0,s.entities=t[0],r=()=>o=!1,k.push(r)),n.$set(s);const c={};1&e&&(c.entities=t[0]),u.$set(c)},i(t){g||(M(n.$$.fragment,t),M(r.$$.fragment,t),M(u.$$.fragment,t),M($.$$.fragment,t),g=!0)},o(t){P(n.$$.fragment,t),P(r.$$.fragment,t),P(u.$$.fragment,t),P($.$$.fragment,t),g=!1},d(t){t&&p(e),J(n),J(r),J(u),J($)}}}function Ot(t,e,n){let o;return u(t,Q,(t=>n(0,o=t))),[o,function(t){o=t,Q.set(o)}]}return new class extends z{constructor(t){super(),q(this,t,Ot,kt,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
