var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(t,e,n){t.$$.on_destroy.push(u(e,n))}function i(t,e,n){return t.set(n),e}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function m(){return d(" ")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}function b(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}let _;function w(t){_=t}const y=[],x=[],E=[],L=[],k=Promise.resolve();let O=!1;function j(t){E.push(t)}let S=!1;const C=new Set;function T(){if(!S){S=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];w(e),N(e.$$)}for(w(null),y.length=0;x.length;)x.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];C.has(e)||(C.add(e),e())}E.length=0}while(y.length);for(;L.length;)L.pop()();O=!1,S=!1,C.clear()}}function N(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const q=new Set;let I;function D(t,e){t&&t.i&&(q.delete(t),t.i(e))}function A(t,e,n,o){if(t&&t.o){if(q.has(t))return;q.add(t),I.c.push((()=>{q.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function P(t){t&&t.c()}function M(t,n,s,u){const{fragment:c,on_mount:i,on_destroy:l,after_update:a}=t.$$;c&&c.m(n,s),u||j((()=>{const n=i.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(j)}function R(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(y.push(t),O||(O=!0,k.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,r,s,u,c,i,l,a=[-1]){const f=_;w(e);const d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:r.target||f.$$.root};l&&l(d.root);let m=!1;if(d.ctx=s?s(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),m&&F(e,t)),n})):[],d.update(),m=!0,o(d.before_update),d.fragment=!!u&&u(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();r.intro&&D(e.$$.fragment),M(e,r.target,r.anchor,r.customElement),T()}w(f)}class U{$destroy(){R(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const z=[];function B(t,e){return{subscribe:G(t,e).subscribe}}function G(e,n=t){let o;const r=new Set;function u(t){if(s(e,t)&&(e=t,o)){const t=!z.length;for(const t of r)t[1](),z.push(t,e);if(t){for(let t=0;t<z.length;t+=2)z[t][0](z[t+1]);z.length=0}}}return{set:u,update:function(t){u(t(e))},subscribe:function(s,c=t){const i=[s,c];return r.add(i),1===r.size&&(o=n(u)||t),s(e),()=>{r.delete(i),0===r.size&&(o(),o=null)}}}}function H(t,e){t="lapcnt-"+t;const n=G(e);if(!window)return n;const o=localStorage.getItem(t);null!=o&&n.set(JSON.parse(o)),n.subscribe((e=>{[null,void 0].includes(e)?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(e))}));return window.addEventListener("storage",(()=>{const e=localStorage.getItem(t);if(null==e)return;const o=JSON.parse(e);n.set(o)})),n}const K=H("entities",[]),Q=H("entity-data",{}),V=H("meta",{inputOpen:!0}),W=function(e,n,s){const c=!Array.isArray(e),i=c?[e]:e,l=n.length<2;return B(s,(e=>{let s=!1;const a=[];let p=0,f=t;const d=()=>{if(p)return;f();const o=n(c?a[0]:a,e);l?e(o):f=r(o)?o:t},m=i.map(((t,e)=>u(t,(t=>{a[e]=t,p&=~(1<<e),s&&d()}),(()=>{p|=1<<e}))));return s=!0,d(),function(){o(m),f()}}))}([B(new Date,(function(t){const e=setInterval((()=>{t((new Date).getTime())}),1e3);return function(){clearInterval(e)}})),V],(([t,{stopwatch:e}])=>{let n;return e?n="RUN"===e.state?t-e.start:e.end-e.start:t=0,n??0}));function X(t){let e,n,o,r,s;return{c(){e=f("p"),e.textContent="Enter names separated by comma and/or newlines.",n=m(),o=f("textarea"),h(o,"class","svelte-4lfknv")},m(u,c){a(u,e,c),a(u,n,c),a(u,o,c),g(o,t[1]),r||(s=v(o,"input",t[7]),r=!0)},p(t,e){2&e&&g(o,t[1])},d(t){t&&p(e),t&&p(n),t&&p(o),r=!1,s()}}}function Y(t){let e,n,r,s,u,c,i,d,$,g,_;return{c(){e=f("select"),n=f("option"),n.textContent="Lap Length: 16m",r=f("option"),r.textContent="Lap Length: 25m",s=f("option"),s.textContent="Lap Length: 33m",u=f("option"),u.textContent="Lap Length: 50m",c=f("option"),c.textContent="Lap Length: 100m",i=f("option"),i.textContent="Lap Length: 200m",d=m(),$=f("button"),$.textContent="Reset",n.__value="16",n.value=n.__value,r.__value="25",r.value=r.__value,s.__value="33",s.value=s.__value,u.__value="50",u.value=u.__value,c.__value="100",c.value=c.__value,i.__value="200",i.value=i.__value,h(e,"class","svelte-4lfknv"),void 0===t[0]&&j((()=>t[8].call(e))),h($,"class","svelte-4lfknv")},m(o,p){a(o,e,p),l(e,n),l(e,r),l(e,s),l(e,u),l(e,c),l(e,i),b(e,t[0]),a(o,d,p),a(o,$,p),g||(_=[v(e,"change",t[8]),v($,"click",t[4])],g=!0)},p(t,n){1&n&&b(e,t[0])},d(t){t&&p(e),t&&p(d),t&&p($),g=!1,o(_)}}}function Z(t){let e;return{c(){e=d("Edit")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function tt(t){let e;return{c(){e=d("Done")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function et(t){let e,n,o;function r(t,e){return t[2].stopwatch?"STOP"===t[2].stopwatch.state?ot:nt:rt}let s=r(t),u=s(t);return{c(){e=f("button"),u.c(),h(e,"class","svelte-4lfknv")},m(r,s){a(r,e,s),u.m(e,null),n||(o=v(e,"click",t[5]),n=!0)},p(t,n){s!==(s=r(t))&&(u.d(1),u=s(t),u&&(u.c(),u.m(e,null)))},d(t){t&&p(e),u.d(),n=!1,o()}}}function nt(t){let e;return{c(){e=d("Stop")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function ot(t){let e;return{c(){e=d("Continue")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function rt(t){let e;return{c(){e=d("Start")},m(t,n){a(t,e,n)},d(t){t&&p(e)}}}function st(e){let n,o,r,s,u,c,i,d,$=e[2].inputOpen&&X(e),g=e[2].inputOpen&&Y(e);function b(t,e){return t[2].inputOpen?tt:Z}let _=b(e),w=_(e),y=!e[2].inputOpen&&et(e);return{c(){n=f("div"),$&&$.c(),o=m(),r=f("div"),g&&g.c(),s=m(),u=f("button"),w.c(),c=m(),y&&y.c(),h(u,"class","svelte-4lfknv"),h(r,"class","side-ctl svelte-4lfknv"),h(n,"class","wrap svelte-4lfknv")},m(t,p){a(t,n,p),$&&$.m(n,null),l(n,o),l(n,r),g&&g.m(r,null),l(r,s),l(r,u),w.m(u,null),l(r,c),y&&y.m(r,null),i||(d=v(u,"click",e[9]),i=!0)},p(t,[e]){t[2].inputOpen?$?$.p(t,e):($=X(t),$.c(),$.m(n,o)):$&&($.d(1),$=null),t[2].inputOpen?g?g.p(t,e):(g=Y(t),g.c(),g.m(r,s)):g&&(g.d(1),g=null),_!==(_=b(t))&&(w.d(1),w=_(t),w&&(w.c(),w.m(u,null))),t[2].inputOpen?y&&(y.d(1),y=null):y?y.p(t,e):(y=et(t),y.c(),y.m(r,null))},i:t,o:t,d(t){t&&p(n),$&&$.d(),g&&g.d(),w.d(),y&&y.d(),i=!1,d()}}}function ut(t,e,n){let o,r;c(t,V,(t=>n(2,o=t))),c(t,Q,(t=>n(10,r=t)));let{entities:s}=e,u=s.join("\n");function l(){o.inputOpen&&(n(6,s=u.split(/,|\n/).map((t=>t.trim())).filter((t=>t)).sort()),n(1,u=s.join("\n"))),i(V,o.inputOpen=!o.inputOpen,o)}let a="50";return t.$$set=t=>{"entities"in t&&n(6,s=t.entities)},t.$$.update=()=>{1&t.$$.dirty&&i(V,o.laps=parseInt(a),o)},[a,u,o,l,function(){i(Q,r={},r),i(V,o={inputOpen:!0,laps:50},o),n(1,u=""),n(6,s=[])},function(){o.stopwatch?"STOP"===o.stopwatch.state?i(V,o.stopwatch={...o.stopwatch,state:"RUN"},o):i(V,o.stopwatch={...o.stopwatch,end:(new Date).getTime(),state:"STOP"},o):i(V,o.stopwatch={start:(new Date).getTime(),state:"RUN"},o)},s,function(){u=this.value,n(1,u)},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,a)},()=>l()]}class ct extends U{constructor(t){super(),J(this,t,ut,st,s,{entities:6})}}function it(t,e=500){const n=(n=!1)=>{const o=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress")),t.removeEventListener("mouseup",s),t.removeEventListener("touchend",s),t.removeEventListener("mousemove",u),t.removeEventListener("touchcancel",u)}),e),s=e=>{clearTimeout(o),t.dispatchEvent(new CustomEvent("shortpress")),t.removeEventListener("mouseup",s),t.removeEventListener("touchend",s),t.removeEventListener("mousemove",u),t.removeEventListener("touchcancel",u)},u=e=>{clearTimeout(o),t.removeEventListener("mouseup",s),t.removeEventListener("touchend",s),t.removeEventListener("mousemove",u),t.removeEventListener("touchcancel",u)};n?(t.removeEventListener("mousedown",r),t.addEventListener("touchcancel",u),t.addEventListener("touchend",s)):(t.addEventListener("mousemove",u),t.addEventListener("mouseup",s))},o=()=>n(!0),r=()=>n(!1);return t.addEventListener("mousedown",r),t.addEventListener("touchstart",o),{destroy(){t.removeEventListener("mousedown",r),t.removeEventListener("touchstart",o)}}}function lt(e){let n,s,u,c,i,g,b,_,w,y,x,E,L,k,O,j,S,C,T,N=(e[2][e[0]]&&e[2][e[0]].count||0)+"",q=e[3][0]+"",I=e[3][1]+"";return{c(){n=f("button"),s=f("h2"),u=d(e[0]),c=m(),i=f("p"),g=d(N),b=m(),_=f("p"),w=d(e[1]),y=d("m"),x=m(),E=f("p"),L=d(q),k=d("'"),O=d(I),j=d("''"),S=f("span"),S.textContent="/100m",h(s,"class","title svelte-b0qj5j"),h(i,"class","count svelte-b0qj5j"),h(_,"class","detail svelte-b0qj5j"),h(S,"class","sub svelte-b0qj5j"),h(E,"class","detail svelte-b0qj5j"),h(n,"class","svelte-b0qj5j")},m(o,p){var f;a(o,n,p),l(n,s),l(s,u),l(n,c),l(n,i),l(i,g),l(n,b),l(n,_),l(_,w),l(_,y),l(n,x),l(n,E),l(E,L),l(E,k),l(E,O),l(E,j),l(E,S),C||(T=[(f=it.call(null,n),f&&r(f.destroy)?f.destroy:t),v(n,"longpress",e[5]),v(n,"shortpress",e[4])],C=!0)},p(t,[e]){1&e&&$(u,t[0]),5&e&&N!==(N=(t[2][t[0]]&&t[2][t[0]].count||0)+"")&&$(g,N),2&e&&$(w,t[1]),8&e&&q!==(q=t[3][0]+"")&&$(L,q),8&e&&I!==(I=t[3][1]+"")&&$(O,I)},i:t,o:t,d(t){t&&p(n),C=!1,o(T)}}}function at(t,e,n){let o,r,s,u;c(t,W,(t=>n(7,r=t))),c(t,V,(t=>n(8,s=t))),c(t,Q,(t=>n(2,u=t)));let i,l,{entity:a=null}=e;return t.$$set=t=>{"entity"in t&&n(0,a=t.entity)},t.$$.update=()=>{261&t.$$.dirty&&n(1,i=(u[a]&&u[a].count||0)*s.laps),130&t.$$.dirty&&n(6,l=Math.floor(r/10/i)),64&t.$$.dirty&&n(3,o=[Number.isFinite(l)?Math.floor(l/60):" ",Number.isFinite(l)?l%60:" "])},[a,i,u,o,function(){Q.update((t=>({...t,[a]:{...t[a],count:(t[a]&&t[a].count||0)+1}})))},function(){Q.update((t=>({...t,[a]:{...t[a],count:(t[a]&&t[a].count||0)-1}})))},l,r,s]}class pt extends U{constructor(t){super(),J(this,t,at,lt,s,{entity:0})}}function ft(t,e,n){const o=t.slice();return o[1]=e[n],o}function dt(t){let e,n;return e=new pt({props:{entity:t[1]}}),{c(){P(e.$$.fragment)},m(t,o){M(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.entity=t[1]),e.$set(o)},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function mt(t){let e,n,r=t[0],s=[];for(let e=0;e<r.length;e+=1)s[e]=dt(ft(t,r,e));const u=t=>A(s[t],1,1,(()=>{s[t]=null}));return{c(){e=f("div");for(let t=0;t<s.length;t+=1)s[t].c();h(e,"class","list-wrap svelte-e2e5wm")},m(t,o){a(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,[n]){if(1&n){let c;for(r=t[0],c=0;c<r.length;c+=1){const o=ft(t,r,c);s[c]?(s[c].p(o,n),D(s[c],1)):(s[c]=dt(o),s[c].c(),D(s[c],1),s[c].m(e,null))}for(I={r:0,c:[],p:I},c=r.length;c<s.length;c+=1)u(c);I.r||o(I.c),I=I.p}},i(t){if(!n){for(let t=0;t<r.length;t+=1)D(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)A(s[t]);n=!1},d(t){t&&p(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(s,t)}}}function vt(t,e,n){let{entities:o=[]}=e;return t.$$set=t=>{"entities"in t&&n(0,o=t.entities)},[o]}class ht extends U{constructor(t){super(),J(this,t,vt,mt,s,{entities:0})}}function $t(e){let n,o;return{c(){n=f("div"),o=d(e[0]),h(n,"class","clock svelte-1jm387x")},m(t,e){a(t,n,e),l(n,o)},p(t,[e]){1&e&&$(o,t[0])},i:t,o:t,d(t){t&&p(n)}}}function gt(t,e,n){let o,r;return c(t,W,(t=>n(1,o=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){if(!Number.isFinite(t)||t<0)return console.log(t),"";const e=new Date(0);return e.setMilliseconds(t),e.toISOString().substr(11,8)}(o))},[r,o]}class bt extends U{constructor(t){super(),J(this,t,gt,$t,s,{})}}function _t(t){let e,n;return{c(){e=f("p"),n=d(t[1])},m(t,o){a(t,e,o),l(e,n)},p(t,e){2&e&&$(n,t[1])},d(t){t&&p(e)}}}function wt(t){let e,n;return{c(){e=f("pre"),n=d(t[0])},m(t,o){a(t,e,o),l(e,n)},p(t,e){1&e&&$(n,t[0])},d(t){t&&p(e)}}}function yt(e){let n,o,r,s,u,c,i=e[1]&&_t(e),l=e[0]&&wt(e);return{c(){n=f("button"),n.textContent="Export",o=m(),i&&i.c(),r=m(),l&&l.c(),s=d(""),h(n,"class","svelte-12hepl")},m(t,p){a(t,n,p),a(t,o,p),i&&i.m(t,p),a(t,r,p),l&&l.m(t,p),a(t,s,p),u||(c=v(n,"click",e[2]),u=!0)},p(t,[e]){t[1]?i?i.p(t,e):(i=_t(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null),t[0]?l?l.p(t,e):(l=wt(t),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&p(n),t&&p(o),i&&i.d(t),t&&p(r),l&&l.d(t),t&&p(s),u=!1,c()}}}function xt(t,e,n){let o,r,s;c(t,V,(t=>n(3,o=t))),c(t,Q,(t=>n(4,r=t))),c(t,K,(t=>n(5,s=t)));let u=null,i=null;function l(t){n(1,i=t),setTimeout((()=>{n(1,i=null)}),3e3)}return[u,i,function(){const t=o.stopwatch?("STOP"===o.stopwatch.state?o.stopwatch.end:(new Date).getTime())-o.stopwatch.start:0;n(0,u=[["name","laps","time (sec)","distance (m)","split (sec/100m)"],...s.map((e=>{const n=r[e]&&r[e].count||0,s=t/1e3,u=n*o.laps;return[e,n,s,u,t/10/u]}))].map((t=>t.join(", "))).join("\n")),navigator.clipboard.writeText(u).then((()=>l("copied!"))).catch((()=>l("failed to copy!")))}]}class Et extends U{constructor(t){super(),J(this,t,xt,yt,s,{})}}function Lt(t){let e,n,o,r,s,u,c,i,d,v,$,g;function b(e){t[1](e)}let _={};return void 0!==t[0]&&(_.entities=t[0]),n=new ct({props:_}),x.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(n,"entities",b))),s=new bt({}),c=new ht({props:{entities:t[0]}}),$=new Et({}),{c(){e=f("main"),P(n.$$.fragment),r=m(),P(s.$$.fragment),u=m(),P(c.$$.fragment),i=m(),d=f("p"),d.textContent="Short press to increment lap, long press to decrement lap.",v=m(),P($.$$.fragment),h(e,"class","svelte-1qwk2gk")},m(t,o){a(t,e,o),M(n,e,null),l(e,r),M(s,e,null),l(e,u),M(c,e,null),l(e,i),l(e,d),l(e,v),M($,e,null),g=!0},p(t,[e]){const r={};var s;!o&&1&e&&(o=!0,r.entities=t[0],s=()=>o=!1,L.push(s)),n.$set(r);const u={};1&e&&(u.entities=t[0]),c.$set(u)},i(t){g||(D(n.$$.fragment,t),D(s.$$.fragment,t),D(c.$$.fragment,t),D($.$$.fragment,t),g=!0)},o(t){A(n.$$.fragment,t),A(s.$$.fragment,t),A(c.$$.fragment,t),A($.$$.fragment,t),g=!1},d(t){t&&p(e),R(n),R(s),R(c),R($)}}}function kt(t,e,n){let o;return c(t,K,(t=>n(0,o=t))),[o,function(t){o=t,K.set(o)}]}return new class extends U{constructor(t){super(),J(this,t,kt,Lt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
